"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DidParser = void 0;
const did_syntax_1 = require("./did-syntax");
const hcs_did_1 = require("./hcs/did/hcs-did");
/**
 * Parses the given DID string into it's corresponding Hedera DID object.
 *
 * @param didString DID string.
 * @return {@link HederaDid} instance.
 */
class DidParser {
    static parse(didString) {
        const methodIndex = did_syntax_1.DidSyntax.DID_PREFIX.length + 1;
        if (!didString || didString.length <= methodIndex) {
            throw new Error('DID string cannot be null');
        }
        if (didString.startsWith(hcs_did_1.HcsDid.DID_METHOD + did_syntax_1.DidSyntax.DID_METHOD_SEPARATOR, methodIndex)) {
            return hcs_did_1.HcsDid.fromString(didString);
        }
        else {
            throw new Error('DID string is invalid.');
        }
    }
}
exports.DidParser = DidParser;
